<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- 
 * Sistema Eddydata de Administração Pública
 * Copyright (C) 2016, Eddydata ltda.
 * Diretors Reservados.
 * @author Rodrigo Teixeira
-->

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="msapplication-tap-highlight" content="no"/>
        <title><h:outputText value="Eddydata - Planejamento"/></title>

        <h:outputStylesheet name="materialize.min.css" library="css"/>
        <h:outputStylesheet name="style.min.css" library="css"/>

        <h:outputScript name="materialize.min.js" library="js" />
        <h:outputScript name="jquery.mask.min.js" library="js" />
        <h:outputScript name="perfect-scrollbar.min.js" library="js" />
        <h:outputScript name="plugins.min.js" library="js" />
    </h:head>

    <h:body id="body1"> 
        <!-- Start Page Loading -->
        <h:panelGroup rendered="#{efeitoCortina ne null and efeitoCortina}">
            <div id="loader-wrapper">
                <div id="loader"></div>        
                <div class="loader-section section-left"></div>
                <div class="loader-section section-right"></div>
            </div>
        </h:panelGroup>
        <!-- End Page Loading -->
        <ui:insert name="conteudo"></ui:insert>

        <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()"/>  

        <p:dialog widgetVar="statusDialog" width="33%" style="overflow: hidden" position="right top"
                  draggable="false" closable="false" resizable="false" modal="false" showHeader="false">  
            <div class="col s12">
                <h:outputLabel value="Buscando informações, por favor aguarde..." />
                <div class="progress">
                    <div class="indeterminate"></div>
                </div>
            </div>
        </p:dialog> 
        
        <p:ajaxExceptionHandler type="javax.faces.application.ViewExpiredException"
                                update="exceptionDialog"
                                onexception="PF('exceptionDialog').show();" />
        <p:dialog  id="exceptionDialog" 
                   header="Página Expirada!" 
                   widgetVar="exceptionDialog"
                   modal="true"
                   >

            <div style="text-align: center;">
                <p style="color: red">Página Expirada!</p>
                <br/>
                <p:button onclick="document.location.href = 'document.location.href;'"
                          value="Atualizar Pagina!"/>

            </div>
        </p:dialog>        
    </h:body>

</html>
